<!-- This document is generated from DSNP Gateway Account Services Prototype API Documentation. Do not edit this file directly. -->

# DSNP Gateway Account Services Prototype API Documentation

## Overview

The DSNP Gateway Account Services Prototype API provides endpoints for managing DSNP Identity accounts and related functionalities.

- **Base URL**: [http://localhost:5005](http://localhost:5005)
- **Version**: `1.0.0`

## Endpoints

### 1. Get Provider Information

- **Endpoint**: `/provider`
- **Method**: `GET`
- **Summary**: Return the delegation and provider information

#### Response

- **Status Code**: `200 OK`

| Parameter   | Type   | Description          |
| ----------- | ------ | -------------------- |
| nodeUrl     | string | Node URL             |
| ipfsGateway | string | IPFS Gateway         |
| providerId  | string | Provider ID           |
| schemas     | array  | Array of schema IDs  |
| network     | string | Network environment  |

### 2. Get Login Challenge

- **Endpoint**: `/challenge`
- **Method**: `GET`
- **Summary**: Return a challenge for login

#### Response

- **Status Code**: `200 OK`

| Parameter | Type   | Description  |
| --------- | ------ | ------------ |
| challenge | string | Login challenge |

### 3. Login

- **Endpoint**: `/login`
- **Method**: `POST`
- **Summary**: Use a challenge to login

#### Request Body

| Parameter      | Type   | Description         | Required |
| -------------- | ------ | ------------------- | -------- |
| algo           | string | Algorithm           | Yes      |
| encoding       | string | Encoding type       | Yes      |
| encodedValue   | string | Encoded value       | Yes      |
| publicKey      | string | Public key          | Yes      |
| challenge      | string | Login challenge     | Yes      |

#### Response

- **Status Code**: `200 OK`

| Parameter   | Type   | Description      |
| ----------- | ------ | ---------------- |
| accessToken | string | Access token     |
| expires     | integer| Token expiration |
| dsnpId      | string | DSNP ID          |

### 4. Logout

- **Endpoint**: `/logout`
- **Method**: `POST`
- **Summary**: Logout and invalidate the access token

#### Response

- **Status Code**: `201 Created`

### 5. Create DSNP Identity

- **Endpoint**: `/create`
- **Method**: `POST`
- **Summary**: Creates a new DSNP Identity

#### Request Body

| Parameter            | Type   | Description                  | Required |
| -------------------- | ------ | ---------------------------- | -------- |
| addProviderSignature| string | Provider signature           | Yes      |
| algo                 | string | Algorithm                    | Yes      |
| baseHandle           | string | Base handle                  | Yes      |
| encoding             | string | Encoding type                | Yes      |
| expiration           | number | Expiration time              | Yes      |
| handleSignature      | string | Handle signature             | Yes      |
| publicKey            | string | Public key                   | Yes      |

#### Response

- **Status Code**: `200 OK`

| Parameter   | Type   | Description      |
| ----------- | ------ | ---------------- |
| accessToken | string | Access token     |
| expires     | integer| Token expiration |

### 6. Get Account Status

- **Endpoint**: `/account`
- **Method**: `GET`
- **Summary**: For polling to get the created account as authCreate can take time

#### Response

- **Status Code**: `202 Accepted`

- **Status Code**: `200 OK`

| Parameter      | Type   | Description   |
| -------------- | ------ | ------------- |
| dsnpId         | string | DSNP ID       |
| displayHandle  | string | Display handle|

### 7. Get Handles

- **Endpoint**: `/handles`
- **Method**: `POST`
- **Summary**: Get handles for public keys

#### Request Body

| Parameter | Type   | Description         | Required |
| --------- | ------ | ------------------- | -------- |
| publicKeys| array  | Array of public keys| Yes      |

#### Response

- **Status Code**: `200 OK`

| Parameter | Type   | Description   |
| --------- | ------ | ------------- |
| publicKey | string | Public key    |
| handle    | string | Handle        |

### 8. Delegate Identity

- **Endpoint**: `/delegate`
- **Method**: `POST`
- **Summary**: Delegate to the provider with an existing DSNP Identity

#### Request Body

| Parameter      | Type   | Description         | Required |
| -------------- | ------ | ------------------- | -------- |
| algo           | string | Algorithm           | Yes      |
| encoding       | string | Encoding type       | Yes      |
| encodedValue   | string | Encoded value       | Yes      |
| publicKey      | string | Public key          | Yes      |

#### Response

- **Status Code**: `200 OK`

| Parameter   | Type   | Description      |
| ----------- | ------ | ---------------- |
| accessToken | string | Access token     |
| expires     | integer| Token expiration |

### 9. Create Control Keys

- **Endpoint**: `/keys/{dsnpId}`
- **Method**: `POST`
- **Summary**: Create new control keys for an MSA ID.

#### Parameters

| Parameter | Location | Description             | Required |
| --------- | -------- | ----------------------- | -------- |
| dsnpId    | path     | DSNP Identity ID        | Yes      |

#### Response

- **Status Code**: `200 OK`

| Parameter   | Type   | Description      |
| ----------- | ------ | ---------------- |
| keys        | array  | Array of keys    |

### 10. Get Control Keys

- **Endpoint**: `/keys/{dsnpId}`
- **Method**: `GET`
- **Summary**: Get all control keys associated with an MSA ID.

#### Parameters

| Parameter | Location | Description             | Required |
| --------- | -------- | ----------------------- | -------- |
| dsnpId    | path     | DSNP Identity ID        | Yes      |

#### Response

- **Status Code**: `200 OK`

| Parameter   | Type   | Description      |
| ----------- | ------ | ---------------- |
| keys        | array  | Array of keys    |

### 11. Remove Control Keys

- **Endpoint**: `/keys/{dsnpId}`
- **Method**: `DELETE`
- **Summary**: Remove all control keys associated with an MSA ID.

#### Parameters

| Parameter | Location | Description             | Required |
| --------- | -------- | ----------------------- | -------- |
| dsnpId    | path     | DSNP Identity ID        | Yes      |

#### Response

- **Status Code**: `200 OK`

### 12. Get Profiles

- **Endpoint**: `/profiles`
- **Method**: `GET`
- **Summary**: Get all profiles

#### Response

- **Status Code**: `200 OK`

| Parameter     | Type   | Description      |
| ------------- | ------ | ---------------- |
| fromId        | string | From DSNP ID     |
| contentHash   | string | Content